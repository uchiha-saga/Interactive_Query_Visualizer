<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Vector Query Plan Visualizer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<nav class="navbar">
  <div class="nav-left">
    <span class="nav-item active">EXPLANATION</span>
    <!-- (Optional) placeholders for SCHEMA or RESULTS tabs -->
    <!-- <span class="nav-item">SCHEMA</span> -->
    <!-- <span class="nav-item">RESULTS</span> -->
  </div>
  <div class="nav-right">
    <button id="download-json">Download JSON</button>
  </div>
</nav>

<div class="container">
  <!-- Left panel: The tree visualization -->
  <div class="tree-panel">
    <div id="upload-area">ðŸ“‚ Click or Drop a query_plan.json file here</div>
    <svg id="plan-svg" width="800" height="600"></svg>
  </div>

  <!-- Right panel: The query summary/stats -->
  <div class="sidebar">
    <h3>Query summary</h3>
    <div id="query-summary">
      <!-- Weâ€™ll fill this dynamically in script.js -->
      <p><strong>Total elapsed time:</strong> <span id="total-time">--</span> ms</p>
      <p><strong>Rows returned:</strong> <span id="rows-returned">--</span></p>
      <p><strong>Rows scanned:</strong> <span id="rows-scanned">--</span></p>
    </div>

    <h3>Prominent operators</h3>
    <div id="prominent-ops">
      <!-- We'll list top slowest node types here -->
    </div>

    <h3>Query execution timeline</h3>
    <div id="execution-timeline">
      <!-- A simple timeline mock or bar chart can go here -->
    </div>
    
    <h3>Node Details</h3>
    <div id="node-details">
    <p>Select a node to see details here.</p>
    </div>

  </div>
</div>

<!-- Load D3 -->
<script src="https://d3js.org/d3.v7.min.js"></script>
<!-- Our custom script -->
<script src="script.js"></script>
</body>
</html>
